<div class="texera-workspace-property-editor-body texera-workflow-component-body">
  <div *ngIf="displayForm">
    <h3 class="texera-workspace-property-editor-title">
      {{currentOperatorSchema?.additionalMetadata.userFriendlyName}}
    </h3>

    <json-schema-form
      class="texera-workspace-property-editor-form"
      framework="material-design"
      loadExternalAssets="true"
      [schema]="currentOperatorSchema?.jsonSchema"
      [data]="currentOperatorInitialData"
      [layout]="formLayout"
      (onChanges)="onFormChanges($event)"
    >
    </json-schema-form>

    <button nz-button *ngIf="!showAdvanced && hasAdvanced" type="button" (click)="handlePropertyAdvancedToggle()">Advanced</button>
    <button nz-button *ngIf="showAdvanced && hasAdvanced" type="button" (click)="handlePropertyAdvancedToggle()">Hide Advanced</button>

    <ng-template #htmlContent>
      <div class="container" *ngFor="let attribute of propertyDescription | keyvalue">
        <div class="property-detail-title">
          <b>{{attribute.key}}</b>
        </div>
        <div class="property-detail-description">
          {{attribute.value}}
        </div>
      </div>
    </ng-template>

    <button nz-button class="propertyDescriptionButton" *ngIf="hasPropertyDescription"
      triggers="click:blur" nz-tooltip [nzTooltipTitle]="htmlContent" nzTooltipPlacement="left">
      <span>
        <i id="question-mark-icon" nz-icon nzType="info-circle" nzTheme="outline"></i>
      </span>
    </button>
  </div>

</div>
